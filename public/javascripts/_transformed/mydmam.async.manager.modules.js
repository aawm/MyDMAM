/** This file is automatically generated! Do not edit. */ (function(manager) { /*
 * This file is part of MyDMAM.
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation; either version 3 of the License, or
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 * 
 * Copyright (C) hdsdi3g for hd3g.tv 2015-2016
 * 
*/

mydmam.module.register("AppManager", {
	managerInstancesItems: function(item) {
		if (item["class"] != "AppManager") {
			return null;
		}

		var on_toogle = function(toogle) {
			manager.createInstanceAction("AppManager", item.key, {broker: toogle});
		};

		return (React.createElement("div", null, 
			React.createElement(mydmam.async.BtnEnableDisable, {
					simplelabel: !manager.canCreateInstanceAction(), 
					enabled: item.content.brokeralive, 
					labelenabled: i18n("manager.items.AppManager.broker.on"), 
					labeldisabled: i18n("manager.items.AppManager.broker.off"), 
					onEnable: on_toogle, 
					onDisable: on_toogle, 
					reference: item.content.brokeralive ? "stop" : "start"}), 
			" ", 
			React.createElement(mydmam.async.LabelBoolean, {
				label_true: i18n("manager.items.AppManager.inoffhours"), 
				label_false: i18n("manager.items.AppManager.innormalhours"), 
				value: item.content.is_off_hours}), 
			" ", 
			React.createElement(mydmam.async.pathindex.reactDate, {
				date: item.content.next_updater_refresh_date, 
				i18nlabel: i18n("manager.items.AppManager.next_updater_refresh_date"), 
				style: {marginLeft: 0}})
		));
	},
	managerInstancesItemsDescr: function(item) {
		if (item["class"] != "AppManager") {
			return null;
		}
		return i18n("manager.items.AppManager.descr");
	},
});

mydmam.module.register("CyclicJobCreator", {
	managerInstancesItems: function(item) {
		if (item["class"] != "CyclicJobCreator") {
			return null;
		}
		var content = item.content;

		var on_toogle_enable_disable = function(toogle) {
			manager.createInstanceAction("CyclicJobCreator", item.key, {activity: toogle});
		};

		var btn_label_enable_disable = (React.createElement(mydmam.async.BtnEnableDisable, {
			simplelabel: !manager.canCreateInstanceAction(), 
			enabled: content.enabled, 
			labelenabled: i18n("manager.items.CyclicJobCreator.enabled"), 
			labeldisabled: i18n("manager.items.CyclicJobCreator.disabled"), 
			onEnable: on_toogle_enable_disable, 
			onDisable: on_toogle_enable_disable, 
			reference: content.enabled ? "disable" : "enable"}));

		var on_do_create = function() {
			manager.createInstanceAction("CyclicJobCreator", item.key, {activity: "createjobs"});
		};

		// setperiod xxxx
		// setnextdate xxxx

		var declaration_list = [];
		for (var pos in content.declarations) {
			var declaration = content.declarations[pos];
			
			var context_list = [];
			for (var pos_ctx in declaration.contexts) {
				var context = declaration.contexts[pos_ctx];
				context_list.push(React.createElement("div", {key: pos_ctx, style: {marginLeft: 10}}, 
					mydmam.async.broker.displayContext(context)
				));
			}
			declaration_list.push(React.createElement("div", {key: pos, style: {marginLeft: 12}}, 
				React.createElement("strong", null, "• ", declaration.job_name), React.createElement("br", null), 
				context_list
			));
		}

		return (React.createElement("div", null, 
			React.createElement("strong", null, content.long_name, " :: ", content.vendor_name), React.createElement("br", null), 
			btn_label_enable_disable, " ", 
			React.createElement(mydmam.async.pathindex.reactDate, {date: content.next_date_to_create_jobs, i18nlabel: i18n("manager.items.CyclicJobCreator.next_date_to_create_jobs"), style: {marginLeft: 0}}), " ", 
			React.createElement(mydmam.async.LabelBoolean, {label_true: i18n("manager.items.CyclicJobCreator.onlyoff"), label_false: i18n("manager.items.CyclicJobCreator.norestricted"), value: content.only_off_hours}), " ", 
			React.createElement("br", null), 
			i18n("manager.items.CyclicJobCreator.period", content.period / 1000), 
			React.createElement("br", null), 
			i18n("manager.items.CyclicJobCreator.creator"), " ", React.createElement(mydmam.async.JavaClassNameLink, {javaclass: content.creator}), 
			React.createElement("div", {style: {marginTop: 16}}, 
				React.createElement("i", {className: "icon-th-list"}), " ", i18n("manager.items.CyclicJobCreator.declarations"), React.createElement("br", null), 
				declaration_list
			)
		));
	},
	managerInstancesItemsDescr: function(item) {
		if (item["class"] != "CyclicJobCreator") {
			return null;
		}
		var content = item.content;

		var declaration_list = [];
		for (var pos in content.declarations) {
			var declaration = content.declarations[pos];
			declaration_list.push(declaration.job_name);
		}
		
		return declaration_list.join(", ");
	},
});

mydmam.module.register("WorkerNG", {
	managerInstancesItems: function(item) {
		if (item["class"] != "WorkerNG") {
			return null;
		}
		var content = item.content;

		var current_job_key = null;
		if (content.current_job_key != null) {
			current_job_key = mydmam.async.broker.displayKey(content.current_job_key, true);
		}

		var capablities_list = [];
		for (var pos in content.capablities) {
			var declaration = content.capablities[pos];
			capablities_list.push(React.createElement("div", {key: pos, style: {marginLeft: 16}}, 
				mydmam.async.broker.displayContext(declaration)
			));
		}

		var specific = null;
		if (content.specific != null) {
			specific = (React.createElement("div", {style: {marginTop: 10}}, 
				React.createElement(mydmam.async.JsonCode, {i18nlabel: "manager.items.worker.specific", json: content.specific})
			));
		}

		return (React.createElement("div", null, 
			React.createElement("strong", null, content.long_name, " :: ", content.vendor), " (", content.category, ") ", React.createElement(mydmam.async.JavaClassNameLink, {javaclass: content.worker_class}), React.createElement("br", null), 
			React.createElement("span", {className: "badge badge-info"}, content.state), " ", current_job_key, React.createElement("br", null), 
			React.createElement("div", {style: {marginTop: 16}}, 
				React.createElement("i", {className: "icon-th-list"}), " ", i18n("manager.items.worker.capablities"), React.createElement("br", null), 
				capablities_list
			), 
			specific
		));

	},
	managerInstancesItemsDescr: function(item) {
		if (item["class"] != "WorkerNG") {
			return null;
		}
		return item.content.long_name;
	},
});

mydmam.module.register("WatchFolderEntry", {
	managerInstancesItems: function(item) {
		if (item["class"] != "WatchFolderEntry") {
			return null;
		}
		var content = item.content;

		var must_contain_div = null;
		if (content.must_contain.length > 0) {
			var must_contain = [];
			for (pos_mc in content.must_contain) {
				var mc = content.must_contain[pos_mc];
				must_contain.push(
					React.createElement("span", {key: pos_mc + "_mc", className: "badge badge-important", style: {marginRight: 5}}, 
						i18n("manager.items.watchfolderentry.mustcontain." + mc)
					)
				);
			}
			must_contain_div = (React.createElement("div", {style: {marginTop: 8}}, 
				i18n("manager.items.watchfolderentry.mustcontain"), " ", must_contain
			));
		}

		var targets = [];
		for (pos_tg in content.targets) {
			var tg = content.targets[pos_tg];
			targets.push(React.createElement("div", {key: pos_tg}, 
				i18n("manager.items.watchfolderentry.target.storage"), " ", React.createElement("span", {className: "badge badge-warning"}, tg.storage), React.createElement("br", null), 
				i18n("manager.items.watchfolderentry.target.profile"), " ", React.createElement("span", {className: "label label-inverse"}, tg.profile), React.createElement("br", null), 
				i18n("manager.items.watchfolderentry.target.prefixsuffix", tg.dest_file_prefix, tg.dest_file_suffix), React.createElement("br", null), 
				React.createElement(mydmam.async.LabelBoolean, {value: tg.keep_input_dir_to_dest, label_true: i18n("manager.items.watchfolderentry.keep_input_dir_to_dest.true"), label_false: i18n("manager.items.watchfolderentry.keep_input_dir_to_dest.false")})
			));
		}

		var target_block = null;
		if (content.targets.length === 1) {
			target_block = (React.createElement("div", {style: {marginTop: 8}}, 
				targets
			));
		} else {
			target_block = (React.createElement("div", {style: {marginTop: 16}}, 
				React.createElement("i", {className: "icon-th-list"}), " ", i18n("manager.items.watchfolderentry.targets"), React.createElement("br", null), 
				targets
			));
		}

		var want_to_stop = null;
		if (content.want_to_stop) {
			want_to_stop = (React.createElement("p", null, 
				React.createElement(mydmam.async.LabelBoolean, {
					value: true, 
					label_true: i18n("manager.items.watchfolderentry.want_to_stop"), 
					label_false: i18n("manager.items.watchfolderentry.want_to_stop")})
			));
		}

		var on_toogle_enable_disable = function(){};

		var btn_label_enable_disable = (React.createElement(mydmam.async.BtnEnableDisable, {
			//simplelabel={!manager.canCreateInstanceAction()}
			simplelabel: true, 
			enabled: content.isalive, 
			labelenabled: i18n("manager.items.watchfolderentry.enabled"), 
			labeldisabled: i18n("manager.items.watchfolderentry.disabled"), 
			onEnable: on_toogle_enable_disable, 
			onDisable: on_toogle_enable_disable, 
			reference: content.isalive ? "disable" : "enable"}));

		return (React.createElement("div", null, 
			React.createElement("p", null, 
				btn_label_enable_disable
			), 
			i18n("manager.items.watchfolderentry.source"), " ", React.createElement("span", {className: "badge badge-warning"}, content.source_storage), 
			want_to_stop, 
			must_contain_div, 
			target_block, React.createElement("br", null), 

			i18n("manager.items.watchfolderentry.min_file_size"), " ", React.createElement(mydmam.async.pathindex.reactFileSize, {size: content.min_file_size}), React.createElement("br", null), 
			React.createElement("span", {className: "label"}, i18n("manager.items.watchfolderentry.time_to_sleep_between_scans", content.time_to_sleep_between_scans / 1000)), React.createElement("br", null), 
			React.createElement("span", {className: "label"}, i18n("manager.items.watchfolderentry.time_to_wait_growing_file", content.time_to_wait_growing_file / 1000)), React.createElement("br", null)
		));
	},
	managerInstancesItemsDescr: function(item) {
		if (item["class"] != "WatchFolderEntry") {
			return null;
		}
		return item.content.name;
	},
});

mydmam.module.register("TranscodeProfile", {
	managerInstancesItems: function(item) {
		if (item["class"] != "TranscodeProfile") {
			return null;
		}
		var content = item.content;

		var params = content.params;
		var cmd_line = [];
		var nb_car = params.length;
		var pos = 0;
		while (pos < params.length) {
			var first_index = params.indexOf("<%$", pos);
			var last_index = params.indexOf("%>", pos);
			if (pos != first_index) {
				cmd_line.push(params.substring(pos, first_index));
			}
			cmd_line.push(params.substring(first_index, last_index + 2));
			pos = last_index + 2;
		}
		var react_cmd_line = [];
		for (var pos in cmd_line) {
			var param = cmd_line[pos];
			var span_class = classNames({
				"cmd_var": param.indexOf("<%$") == 0,
			});
			react_cmd_line.push(React.createElement("span", {key: pos, className: span_class}, 
				param
			));
		}

		var cdm = null;
		if (content.current_directory_mode != "none") {
			cdm = (React.createElement("span", {className: "label label-warning"}, i18n("manager.items.TranscodeProfile.current_directory_mode." + content.current_directory_mode)));
		}

		var outputformat = null;
		if (content.outputformat != null) {
			outputformat = (React.createElement("div", {style: {marginTop: 10}}, 
				React.createElement(mydmam.async.JsonCode, {i18nlabel: "manager.items.TranscodeProfile.outputformat", json: content.outputformat})
			));
		}

		return (React.createElement("div", null, 
			React.createElement("p", null, 
				i18n("manager.items.TranscodeProfile.executable_name"), " ", React.createElement("span", {className: "label label-info"}, content.executable_name), 
				React.createElement("span", {style: {marginLeft: 5, marginRight: 3}}, "•"), 
				i18n("manager.items.TranscodeProfile.extension"), " ", React.createElement("span", {className: "label label-success"}, ".", content.extension), React.createElement("br", null), 
				cdm
			), 
			React.createElement("code", {className: "commandline"}, React.createElement("span", {className: "executable"}, content.executable), " ", react_cmd_line), 
			outputformat
		));
	},
	managerInstancesItemsDescr: function(item) {
		if (item["class"] != "TranscodeProfile") {
			return null;
		}
		return item.key + " (" + item.content.executable_name + "/" + item.content.extension + ")";
	},
});

mydmam.module.register("FTPGroup", {
	managerInstancesItems: function(item) {
		if (item["class"] != "FTPGroup") {
			return null;
		}
		var content = item.content;

		var disabled = null;
		if (content.disabled_group) {
			disabled = (React.createElement("p", null, React.createElement("span", {className: "label label-error"}, i18n("manager.items.FTPGroup.disabled_group"))));
		}

		var expirations = null;
		if (content.account_expiration_trash_duration > 0 | content.account_expiration_purge_duration > 0) {
			expirations = (React.createElement("p", null, 
				React.createElement("span", {className: "label"}, i18n("manager.items.FTPGroup.account_expiration_trash_duration", content.account_expiration_trash_duration / 1000)), React.createElement("br", null), 
				React.createElement("span", {className: "label"}, i18n("manager.items.FTPGroup.account_expiration_purge_duration", content.account_expiration_purge_duration / 1000)), React.createElement("br", null), 
				React.createElement("span", {className: "label"}, i18n("manager.items.FTPGroup.account_expiration_based_on_last_activity." + content.account_expiration_based_on_last_activity))
			));
		}
		var domain_isolation = null;
		if (content.domain_isolation) {
			domain_isolation = (React.createElement("em", null, i18n("manager.items.FTPGroup.domain_isolation")));
		}
		var short_activity_log = null;
		if (content.short_activity_log == false) {
			short_activity_log = (React.createElement("div", null, React.createElement("span", {className: "badge badge-important"}, i18n("manager.items.FTPGroup.long_activity_log"))));
		}
		return (React.createElement("div", null, 
			disabled, 
			React.createElement("strong", null, i18n("manager.items.FTPGroup.base_working_dir", content.base_working_dir)), domain_isolation, React.createElement("br", null), 
			i18n("manager.items.FTPGroup.pathindex_storagename"), " ", React.createElement("span", {className: "label label-warning"}, content.pathindex_storagename), React.createElement("br", null), 

			i18n("manager.items.FTPGroup.last_free_space"), " ", React.createElement(mydmam.async.pathindex.reactFileSize, {size: content.last_free_space}), React.createElement("br", null), 
			i18n("manager.items.FTPGroup.min_disk_space_before_warn"), " ", React.createElement(mydmam.async.pathindex.reactFileSize, {size: content.min_disk_space_before_warn}), React.createElement("br", null), 
			i18n("manager.items.FTPGroup.min_disk_space_before_stop"), " ", React.createElement(mydmam.async.pathindex.reactFileSize, {size: content.min_disk_space_before_stop}), React.createElement("br", null), 
			expirations, 
			short_activity_log, 
			i18n("manager.items.FTPGroup.trash_directory", content.trash_directory), React.createElement("br", null)
		));
	},
	managerInstancesItemsDescr: function(item) {
		if (item["class"] != "FTPGroup") {
			return null;
		}
		return i18n("manager.items.FTPGroup.key", item.key);
	},
});

})(window.mydmam.async.manager);
// Generated by hd3gtv.mydmam.web.JSProcessor for the module internal
// Source hash: 02e9b80b20a225bf1c15dbb31262e1d3
