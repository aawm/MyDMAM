(function(a){a.PageSummaries=React.createClass({displayName:"PageSummaries",render:function(){return(React.createElement(a.Header,{page:"summary"}));
}});a.PageClasspath=React.createClass({displayName:"PageClasspath",render:function(){return(React.createElement(a.Header,{page:"classpath"}));
}});a.PageThreads=React.createClass({displayName:"PageThreads",render:function(){return(React.createElement(a.Header,{page:"threads"}));
}});a.PageItems=React.createClass({displayName:"PageItems",render:function(){return(React.createElement(a.Header,{page:"items"}));
}});a.PagePerfstats=React.createClass({displayName:"PagePerfstats",render:function(){return(React.createElement(a.Header,{page:"perfstats"}));
}});mydmam.routes.push("manager-PageSummaries","manager/summary",a.PageSummaries,[{name:"instances",verb:"allsummaries"}]);
mydmam.routes.push("manager-PageClasspath","manager/classpath",a.PageClasspath,[{name:"instances",verb:"allclasspaths"},{name:"instances",verb:"byrefs"}]);
mydmam.routes.push("manager-PageThreads","manager/threads",a.PageThreads,[{name:"instances",verb:"allthreads"},{name:"instances",verb:"allsummaries"}]);
mydmam.routes.push("manager-PageItems","manager/items",a.PageItems,[{name:"instances",verb:"allitems"},{name:"instances",verb:"allsummaries"}]);
mydmam.routes.push("manager-PagePerfstats","manager/perfstats",a.PagePerfstats,[{name:"instances",verb:"allperfstats"}]);
a.Header=React.createClass({displayName:"Header",truncateDb:function(b){b.preventDefault();
mydmam.async.request("instances","truncate",null,function(){window.location.reload();
}.bind(this));},render:function(){var b=null;if(this.props.page=="summary"){b=(React.createElement(a.Summaries,null));
}else{if(this.props.page=="classpath"){b=(React.createElement(a.Classpaths,null));
}else{if(this.props.page=="threads"){b=(React.createElement(a.Threads,null));}else{if(this.props.page=="items"){b=(React.createElement(a.Items,null));
}else{if(this.props.page=="perfstats"){b=(React.createElement(a.Perfstats,null));
}}}}}return(React.createElement(mydmam.async.PageHeaderTitle,{title:i18n("manager.pagename"),fluid:"true"},React.createElement("ul",{className:"nav nav-tabs"},React.createElement(a.HeaderTab,{href:"#manager/summary",i18nlabel:"manager.summaries"}),React.createElement(a.HeaderTab,{href:"#manager/items",i18nlabel:"manager.items"}),React.createElement(a.HeaderTab,{href:"#manager/threads",i18nlabel:"manager.threads"}),React.createElement(a.HeaderTab,{href:"#manager/perfstats",i18nlabel:"manager.perfstats"}),React.createElement(a.HeaderTab,{href:"#manager/classpath",i18nlabel:"manager.classpath"}),React.createElement("li",{className:"pull-right"},React.createElement("a",{href:location.hash,onClick:this.truncateDb},i18n("manager.truncate")))),b));
}});a.HeaderTab=React.createClass({displayName:"HeaderTab",onClick:function(b){$(React.findDOMNode(this.refs.tab)).blur();
},render:function(){var b=classNames({active:this.props.href==location.hash});return(React.createElement("li",{className:b},React.createElement("a",{href:this.props.href},i18n(this.props.i18nlabel))));
}});a.InstancesNavList=React.createClass({displayName:"InstancesNavList",getInitialState:function(){return{list:{},instance_selected:null};
},componentWillMount:function(){mydmam.async.request("instances","allsummaries",null,function(b){this.setState({list:b});
}.bind(this));},onSelectInstance:function(b){this.props.onSelectInstance(b);this.setState({instance_selected:b});
},onSelectItem:function(b){this.props.onSelectItem(b);},render:function(){var h=[];
for(var e in this.state.list){var c=this.state.list[e];var f=classNames({active:this.state.instance_selected==e});
h.push(React.createElement("li",{key:e,className:f},React.createElement(a.InstancesNavListElement,{reference:e,onSelect:this.onSelectInstance},c.instance_name," ",React.createElement("small",null,"(",c.app_name,")"))));
}var d=null;if(this.props.item_list_i18n_title){d=(React.createElement("li",{className:"nav-header"},i18n(this.props.item_list_i18n_title)));
}var b=[];for(var i in this.props.items){var g=this.props.items[i];b.push(React.createElement("li",{key:i},React.createElement(a.InstancesNavListElement,{reference:i,onSelect:this.onSelectItem},g)));
}return(React.createElement("div",{className:"row-fluid"},React.createElement("div",{className:"span4"},React.createElement("div",{className:"well",style:{padding:"8px 0"}},React.createElement("ul",{className:"nav nav-list"},React.createElement("li",{className:"nav-header"},i18n("manager.instancepane")),h,d,b))),React.createElement("div",{className:"span8"},this.props.children)));
}});a.InstancesNavListElement=React.createClass({displayName:"InstancesNavListElement",onClick:function(b){b.preventDefault();
this.props.onSelect(this.props.reference);$(React.findDOMNode(this.refs.tab)).blur();
},render:function(){return(React.createElement("a",{href:location.href,ref:"tab",onClick:this.onClick},this.props.children));
}});})(window.mydmam.async.manager);