(function(b,a){a.upload=function(){var c=localStorage.getObject(b.LOCALSTORAGE_CONTENT_KEYNAME);
var d={};if(c.length===0){d={empty:"true"};}else{d={current:localStorage.getObject(b.LOCALSTORAGE_CONTENT_KEYNAME)};
}$.ajax({url:mydmam.basket.url.push,type:"POST",data:d,success:function(e){a.setCacheTimer();
}});};})(window.mydmam.basket,window.mydmam.basket.content.backend);(function(b,a){a.download=function(c){$.ajax({url:mydmam.basket.url.pull,type:"GET",async:(c===null),success:function(d){localStorage.setObject(b.LOCALSTORAGE_CONTENT_KEYNAME,d);
a.setCacheTimer();}});};})(window.mydmam.basket,window.mydmam.basket.content.backend);
(function(b,a){a.setContent=function(c){localStorage.setObject(b.LOCALSTORAGE_CONTENT_KEYNAME,c);
a.setCacheTimer();};})(window.mydmam.basket,window.mydmam.basket.content.backend);
(function(b,a){a.pullData=function(){if(localStorage.getItem(b.LOCALSTORAGE_CONTENT_KEYNAME)===null){a.download(true);
}else{if(a.isExpiredCache()){a.download();}}return localStorage.getObject(b.LOCALSTORAGE_CONTENT_KEYNAME);
};})(window.mydmam.basket,window.mydmam.basket.content.backend);(function(b,a){a.pushData=function(c){localStorage.setObject(b.LOCALSTORAGE_CONTENT_KEYNAME,c);
a.upload();};})(window.mydmam.basket,window.mydmam.basket.content.backend);(function(b,a){a.setCacheTimer=function(){localStorage.setItem(b.LOCALSTORAGE_LASTUPDATE_KEYNAME,new Date().getTime());
};})(window.mydmam.basket,window.mydmam.basket.content.backend);(function(b,a){a.isExpiredCache=function(){var c=localStorage.getItem(b.LOCALSTORAGE_LASTUPDATE_KEYNAME);
if(c!=null){if(((new Date().getTime()-c)/1000)<b.CACHE_DURATION){return false;}}return true;
};})(window.mydmam.basket,window.mydmam.basket.content.backend);(function(a){a.all=function(b){$.ajax({url:mydmam.basket.url.all,type:"GET",success:function(c){b(c);
}});};})(window.mydmam.basket.content.backend);(function(a){a.selected=function(b){$.ajax({url:mydmam.basket.url.selected,type:"GET",success:function(c){b(c.selected);
}});};})(window.mydmam.basket.content.backend);(function(a){a.bdelete=function(c,b){$.ajax({url:mydmam.basket.url.bdelete,type:"POST",data:{name:c},success:function(d){b(d["delete"]);
}});};})(window.mydmam.basket.content.backend);(function(a){a.truncate=function(c,b){$.ajax({url:mydmam.basket.url.truncate,type:"POST",data:{name:c},success:function(d){b(d.truncate);
}});};})(window.mydmam.basket.content.backend);(function(a){a.rename=function(c,d,b){$.ajax({url:mydmam.basket.url.rename,type:"POST",data:{name:c,newname:d},success:function(e){b(e.rename_from,e.rename_to);
}});};})(window.mydmam.basket.content.backend);(function(a){a.create=function(d,c,b){$.ajax({url:mydmam.basket.url.create,type:"POST",data:{name:d,switch_to_selected:c},success:function(e){b(e.create,e.switch_to_selected);
}});};})(window.mydmam.basket.content.backend);(function(a,b){a.switch_selected=function(d,c){$.ajax({url:mydmam.basket.url.switch_selected,type:"POST",data:{name:d},success:function(e){if(e.notselected){c(null,null);
return;}c(d,e);}});};})(window.mydmam.basket.content.backend);