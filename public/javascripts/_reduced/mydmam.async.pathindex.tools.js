(function(a){a.resolveExternalPosition=function(b,c){if(!b){return;}if(b.length==0){return;
}$.ajax({url:mydmam.metadatas.url.resolvepositions,type:"POST",data:{keys:b},success:c,error:function(d,f,e){console.error(d,f,e);
}});};a.reactStoragePathLink=React.createClass({displayName:"reactStoragePathLink",render:function(){var d=mydmam.metadatas.url.navigate_react;
var e=this.props.storagename;var l=this.props.path;var k=this.props.add_link;var g=e;
if(k){g=(React.createElement("a",{href:d+"#"+e+":/"},e));}var f=l;if(k){f=[];var j=l.split("/");
var h;var c="";for(var b=1;b<j.length;b++){h=j[b];f.push(React.createElement("span",{key:b},"/",React.createElement("a",{href:d+"#"+e+":"+c+"/"+h},h)));
c=c+"/"+h;}}return(React.createElement("span",null,React.createElement("strong",{className:"storagename"},g)," :: ",React.createElement("span",{className:"path"},f)));
}});a.reactFileSize=React.createClass({displayName:"reactFileSize",render:function(){if(!this.props.size){return null;
}var b={marginLeft:5};if(this.props.style){b=this.props.style;}return(React.createElement("span",{className:"label label-important",style:b},React.createElement("i",{className:"icon-briefcase icon-white"})," ",mydmam.format.number(this.props.size)));
}});a.reactDate=React.createClass({displayName:"reactDate",render:function(){if(!this.props.date){return null;
}if(this.props.date==0){return null;}var b=null;if(this.props.i18nlabel!=null){b=i18n(this.props.i18nlabel)+" ";
}var c={marginLeft:5};if(this.props.style!=null){c=this.props.style;}return(React.createElement("span",{className:"label",style:c},b,mydmam.format.fulldate(this.props.date)));
}});a.reactSinceDate=React.createClass({displayName:"reactSinceDate",render:function(){if(!this.props.date){return null;
}if(this.props.date==0){return null;}var b=null;if(this.props.i18nlabel){b=i18n(this.props.i18nlabel)+" ";
}var c={marginLeft:5};if(this.props.style){c=this.props.style;}var d=Math.round((new Date().getTime()-this.props.date)/1000);
if(d<0){return React.createElement(a.reactDate,{date:this.props.date,i18nlabel:this.props.i18nlabel,style:this.props.style});
}return(React.createElement("span",{className:"label",style:c},React.createElement("i",{className:"icon-time icon-white",style:{marginTop:0}})," ",b,mydmam.format.secondsToYWDHMS(d)));
}});a.mtdTypeofElement=function(e){if(!e){return"";}if(!e.mimetype){return"";}var d=e.mimetype;
var f=d.substr(0,d.indexOf("/"));var c=d.substr(d.indexOf("/")+1);if(c.startsWith("x-")){c=c.substr(2);
}d=f+"-"+c;var b=i18n("mime."+d);if(b.startsWith("mime.")){b=b.substr(5);}return b;
};a.reactBasketButton=React.createClass({displayName:"reactBasketButton",getInitialState:function(){return{present_in_basket:mydmam.basket.isInBasket(this.props.pathindexkey)};
},handleBasketSwitch:function(b){if(this.state.present_in_basket){mydmam.basket.content.remove(this.props.pathindexkey);
}else{mydmam.basket.content.add(this.props.pathindexkey);}this.setState({present_in_basket:!this.state.present_in_basket});
},render:function(){if(this.props.pathindexkey===md5("")){return null;}var b=classNames({btn:true,"btn-mini":true,basket:true,active:this.state.present_in_basket});
var c=(React.createElement("i",{className:"icon-star-empty"}));if(this.state.present_in_basket){c=(React.createElement("i",{className:"icon-star"}));
}return(React.createElement("button",{className:b,type:"button",onClick:this.handleBasketSwitch},c));
}});})(window.mydmam.async.pathindex);