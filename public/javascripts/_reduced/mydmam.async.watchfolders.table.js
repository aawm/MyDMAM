(function(a){a.table=React.createClass({displayName:"table",loadActualItemList:function(){mydmam.async.request("watchfolders","list",{},function(b){this.setState({items:b.items,jobs:b.jobs});
}.bind(this));},getInitialState:function(){return{items:[],jobs:{}};},componentWillMount:function(){this.loadActualItemList();
this.setState({interval:setInterval(this.loadActualItemList,1000)});},componentWillUnmount:function(){if(this.state.interval){clearInterval(this.state.interval);
}},onDelete:function(c){var e=c.storage_name;var f=c.path;var d=md5(e+":"+f);var b=-1;
for(pos in this.state.items){if(this.state.items[pos].storage_name===e&&this.state.items[pos].path===f){b=pos;
break;}}this.state.items.splice(b,1);this.setState({items:this.state.items});if(this.state.interval){clearInterval(this.state.interval);
}mydmam.async.request("watchfolders","remove",{key:d},function(g){this.setState({interval:setInterval(this.loadActualItemList,1000)});
}.bind(this));},render:function(){var d=this.state.items;var b=this.state.jobs;var d=d.sort(function(f,e){return f.last_checked-e.last_checked;
});var c=[];for(pos in d){c.push(React.createElement(a.AbstractFoundedFile,{key:pos,abstract_founded_file:d[pos],jobs:b,onDelete:this.onDelete}));
}return(React.createElement("table",{className:"table table-striped table-bordered table-hover table-condensed"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,i18n("manager.watchfolders.table.file")),React.createElement("th",null,i18n("manager.watchfolders.table.filedate")),React.createElement("th",null,i18n("manager.watchfolders.table.size")),React.createElement("th",null,i18n("manager.watchfolders.table.lastchecked")),React.createElement("th",null,i18n("manager.watchfolders.table.status")),React.createElement("th",null,i18n("manager.watchfolders.table.jobs")),React.createElement("th",null))),React.createElement("tbody",null,c)));
}});mydmam.routes.push("watchfolders","watchfolders",a.table,[{name:"watchfolders",verb:"list"}]);
})(window.mydmam.async.watchfolders);