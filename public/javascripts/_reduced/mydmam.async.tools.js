(function(a){a.PageLoadingProgressBar=React.createClass({displayName:"PageLoadingProgressBar",getInitialState:function(){return{timer:null,show_bar:false};
},componentWillMount:function(){this.setState({timer:setTimeout(this.onTimerDone,300)});
},onTimerDone:function(){this.setState({show_bar:true,timer:null});},componentWillUnmount:function(){if(this.state.timer){clearInterval(this.state.timer);
}},render:function(){if(this.state.show_bar){return(React.createElement("div",{className:"progress progress-striped progress-info active"},React.createElement("div",{className:"bar",style:{width:"100%"}})));
}else{return(React.createElement("span",null));}}});a.AlertBox=React.createClass({displayName:"AlertBox",render:function(){var c=null;
if(this.props.title){c=(React.createElement("div",null,React.createElement("h4",null,this.props.title)));
}var b=classNames("alert");if(this.props.color){b=classNames("alert",this.props.color);
}return(React.createElement("div",{className:b},c,this.props.children));}});a.AlertInfoBox=React.createClass({displayName:"AlertInfoBox",render:function(){return(React.createElement(a.AlertBox,React.__spread({color:"alert-info"},this.props)));
}});a.AlertErrorBox=React.createClass({displayName:"AlertErrorBox",render:function(){return(React.createElement(a.AlertBox,React.__spread({color:"alert-error"},this.props)));
}});a.FormControlGroup=React.createClass({displayName:"FormControlGroup",render:function(){var b=null;
if(this.props.label){b=(React.createElement("label",{className:"control-label"},this.props.label));
}return(React.createElement("div",{className:"control-group"},b,React.createElement("div",{className:"controls"},this.props.children)));
}});a.BtnEnableDisable=React.createClass({displayName:"BtnEnableDisable",propTypes:{simplelabel:React.PropTypes.bool.isRequired,enabled:React.PropTypes.bool.isRequired,labelenabled:React.PropTypes.string.isRequired,labeldisabled:React.PropTypes.string.isRequired,onEnable:React.PropTypes.func,onDisable:React.PropTypes.func,reference:React.PropTypes.string,iconcircle:React.PropTypes.bool},getInitialState:function(){return{pending_changes:false};
},onClickSetEnable:function(){if(this.state.pending_changes){return;}this.setState({pending_changes:true});
this.props.onEnable(this.props.reference);},onClickSetDisable:function(){if(this.state.pending_changes){return;
}this.setState({pending_changes:true});this.props.onDisable(this.props.reference);
},componentWillReceiveProps:function(){this.setState({pending_changes:false});},render:function(){var b=classNames("icon-white",{"icon-stop":this.props.enabled&!this.props.iconcircle,"icon-play":!this.props.enabled&!this.props.iconcircle,"icon-ok-circle":this.props.enabled&this.props.iconcircle,"icon-ban-circle":!this.props.enabled&this.props.iconcircle});
if(this.props.simplelabel){if(this.props.enabled){return(React.createElement("span",null,React.createElement("strong",null,this.props.labelenabled)));
}else{return(React.createElement("span",{className:"muted"},React.createElement("strong",null,this.props.labeldisabled)));
}}if(this.props.enabled){var c=classNames("btn","btn-mini",{disabled:this.state.pending_changes,"btn-danger":!this.props.iconcircle,"btn-success":this.props.iconcircle});
return(React.createElement("button",{className:c,onClick:this.onClickSetDisable},React.createElement("i",{className:b})," ",this.props.labelenabled));
}else{var c=classNames("btn","btn-mini",{disabled:this.state.pending_changes,"btn-success":!this.props.iconcircle});
return(React.createElement("button",{className:c,onClick:this.onClickSetEnable},React.createElement("i",{className:b})," ",this.props.labeldisabled));
}}});a.BtnDelete=React.createClass({displayName:"BtnDelete",propTypes:{label:React.PropTypes.string,enabled:React.PropTypes.bool.isRequired,onClickDelete:React.PropTypes.func.isRequired,reference:React.PropTypes.string},getInitialState:function(){return{pending_changes:false};
},onClickDelete:function(){if(this.state.pending_changes){return;}if(!this.props.enabled){return;
}this.setState({pending_changes:true});this.props.onClickDelete(this.props.reference);
},componentWillReceiveProps:function(){this.setState({pending_changes:false});},render:function(){var b=classNames("btn","btn-mini","btn-danger",{disabled:this.state.pending_changes|!this.props.enabled});
return(React.createElement("button",{className:b,onClick:this.onClickDelete},React.createElement("i",{className:"icon-trash icon-white"})," ",this.props.label));
}});a.SimpleBtn=React.createClass({displayName:"SimpleBtn",propTypes:{enabled:React.PropTypes.bool.isRequired,onClick:React.PropTypes.func.isRequired,reference:React.PropTypes.string,btncolor:React.PropTypes.string},onClick:function(){if(!this.props.enabled){return;
}this.props.onClick(this.props.reference);},render:function(){var b=classNames("btn","btn-mini",this.props.btncolor,{disabled:!this.props.enabled});
return(React.createElement("button",{className:b,onClick:this.onClick},this.props.children));
}});a.ButtonSort=React.createClass({displayName:"ButtonSort",handleClick:function(b){b.preventDefault();
this.props.onChangeState(this.props.colname,this.props.order);},render:function(){var c=false;
var b=false;var d=false;if(this.props.order!=null){c=(this.props.order==="asc");b=(this.props.order==="desc");
d=true;}var e=classNames({btn:true,"btn-mini":true,"pull-right":true,active:d});var f=classNames({"pull-right":true,"icon-chevron-up":c,"icon-chevron-down":b,"icon-minus":((c===false)&(b===false))});
return(React.createElement("button",{className:e,onClick:this.handleClick},React.createElement("i",{className:f})));
}});a.LabelBoolean=React.createClass({displayName:"LabelBoolean",propTypes:{label_true:React.PropTypes.string.isRequired,label_false:React.PropTypes.string.isRequired,value:React.PropTypes.bool.isRequired,inverse:React.PropTypes.bool},render:function(){var f=this.props.value;
var b=false;if(this.props.inverse){b=true;}var c=i18n(this.props.label_false);if(f){c=i18n(this.props.label_true);
}var e=classNames("badge",{"badge-success":f==b,"badge-important":f!=b});var d=classNames("icon-white",{"icon-remove-circle":!f,"icon-ok-circle":f});
return(React.createElement("span",{className:e},React.createElement("i",{className:d})," ",c));
}});a.JsonCode=React.createClass({displayName:"JsonCode",propTypes:{i18nlabel:React.PropTypes.string.isRequired,json:React.PropTypes.object.isRequired},render:function(){var b=(React.createElement("span",{className:"jsontitle"}," ",i18n(this.props.i18nlabel)," "));
return(React.createElement("div",null,React.createElement("code",{className:"json",style:{marginTop:10}},React.createElement("i",{className:"icon-indent-left"}),b,JSON.stringify(this.props.json,null," "))));
}});a.appversion="master master";a.makeGitHubLink=function(c){if(c==null){return null;
}if((c.indexOf("hd3gtv.")!=0)&(c.indexOf("controllers.")!=0)){return null;}var b=c.indexOf("$");
if(b>-1){c=c.substring(0,b);}return"https://github.com/hdsdi3g/MyDMAM/blob/"+a.appversion.substring(a.appversion.lastIndexOf(" ")+1)+"/app/"+c.replace(/\./g,"/")+".java";
};a.JavaClassNameLink=React.createClass({displayName:"JavaClassNameLink",onClickLink:function(b){b.stopPropagation();
},render:function(){var d=this.props.javaclass;if(d==null){return(React.createElement("strong",null,React.createElement("em",{className:"muted"},"Void")));
}var c=a.makeGitHubLink(d);if(c==null){return(React.createElement("span",null,d));
}var b={height:14,lineHeight:14,marginTop:1,verticalAlign:"text-top",width:14};return(React.createElement("span",null,React.createElement("a",{href:c,target:"_blank",onClick:this.onClickLink},React.createElement("img",{src:mydmam.urlimgs.github_favicon,style:b})," ",React.createElement("abbr",{title:d},d.substring(d.lastIndexOf(".")+1)))));
}});a.JavaStackTrace=React.createClass({displayName:"JavaStackTrace",onClickLink:function(b){b.stopPropagation();
},getStacktrace:function(e,d){var b=[];b.push(React.createElement("div",{key:d++},e["class"],": ",e.message));
for(var g=0;g<e.stacktrace.length;g++){var f=e.stacktrace[g];if(f.line===-2){b.push(React.createElement("div",{key:d++}," at ",f["class"],".",f.method,"(Native Method)"));
}else{if(f.file){var c=a.makeGitHubLink(f["class"]);if(f.line>=0){if(c){b.push(React.createElement("div",{key:d++}," at ",f["class"],".",f.method,"(",React.createElement("a",{href:c+"#L"+f.line,target:"_blank"},f.file,":",f.line),")"));
}else{b.push(React.createElement("div",{key:d++}," at ",f["class"],".",f.method,"(",f.file,":",f.line,")"));
}}else{if(c){b.push(React.createElement("div",{key:d++}," at ",f["class"],".",f.method,"(",React.createElement("a",{href:c,target:"_blank"},f.file),")"));
}else{b.push(React.createElement("div",{key:d++}," at ",f["class"],".",f.method,"(",f.file,")"));
}}}else{b.push(React.createElement("div",{key:d++}," at ",f["class"],".",f.method,"(Unknown Source)"));
}}}if(e.cause){b.push(React.createElement("div",{key:d++},"Caused by:"));return b.concat(broker.getStacktrace(e.cause,d));
}return b;},render:function(){if(this.props.processing_error==null){return null;}return(React.createElement("div",{className:"stacktrace",onClick:this.onClickLink},this.getStacktrace(this.props.processing_error,0)));
}});a.SearchInputBox=React.createClass({displayName:"SearchInputBox",getInitialState:function(){return{timer:null};
},onTimerDone:function(){this.setState({timer:null});this.props.onKeyPress(React.findDOMNode(this.refs.inputbox).value);
},onKeyPress:function(){if(this.state.timer){clearInterval(this.state.timer);}this.setState({timer:setTimeout(this.onTimerDone,500)});
},componentWillUnmount:function(){if(this.state.timer){clearInterval(this.state.timer);
}},render:function(){return(React.createElement("span",{style:{fontSize:13}},React.createElement("input",{type:"text",ref:"inputbox",placeholder:i18n("maingrid.search"),className:"input-medium search-query",style:this.props.style,onKeyUp:this.onKeyPress})));
}});a.NavTabsLink=React.createClass({displayName:"NavTabsLink",onClick:function(b){b.preventDefault();
this.props.onActiveChange(this.props.pos);$(React.findDOMNode(this.refs.tab)).blur();
},render:function(){var c=null;if(this.props.icon){c=(React.createElement("span",null,React.createElement("i",{className:this.props.icon})," "));
}var b=null;if(this.props.i18nlabel){b=i18n(this.props.i18nlabel);}return(React.createElement("a",{href:location.hash,onClick:this.onClick,ref:"tab"},c,b));
}});a.NavTabs=React.createClass({displayName:"NavTabs",onActiveChange:function(b){if(b<0){return;
}if(b>this.props.content.length){return;}this.props.onChange(b);},render:function(){if(this.props.content==null){return(React.createElement("span",null));
}if(this.props.content.length===0){return(React.createElement("span",null));}var d=[];
for(var e in this.props.content){var c=this.props.content[e];var b=classNames({active:(this.props.active==e),"pull-right":c.pullright});
d.push(React.createElement("li",{className:b,key:e},React.createElement(a.NavTabsLink,{pos:e,i18nlabel:c.i18nlabel,icon:c.icon,onActiveChange:this.onActiveChange})));
}return(React.createElement("ul",{className:"nav nav-tabs"},d));}});a.PageHeaderTitle=React.createClass({displayName:"PageHeaderTitle",getInitialState:function(){return{active_tab:0};
},componentDidMount:function(){this.setDocumentTitle();},componentDidUpdate:function(b){this.setDocumentTitle();
},setDocumentTitle:function(){var b="";if(this.props.tabs){b=this.props.tabs[this.state.active_tab].i18nlabel;
if(b){b=i18n(b)+" :: ";}}var c=null;if(this.props.title){c=b+this.props.title+" :: "+i18n("site.name");
}else{c=b+i18n("site.name");}if(document.title!=c){document.title=c;}},componentWillUnmount:function(){document.title=i18n("site.name");
},onChangeTab:function(b){this.setState({active_tab:b});},render:function(){var c=null;
if(this.props.title){c=(React.createElement("p",{className:"lead"},this.props.title));
}var b=classNames("container");if(this.props.fluid){b=classNames("container-fluid");
}var d=null;var e=null;if(this.props.tabs){var f=this.props.tabs;d=(React.createElement(mydmam.async.NavTabs,{content:f,onChange:this.onChangeTab,active:this.state.active_tab}));
e=this.props.tabs[this.state.active_tab].content;}return(React.createElement("div",{className:b},c,d,React.createElement("div",null,e),React.createElement("div",null,this.props.children)));
}});})(window.mydmam.async);